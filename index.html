<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="./images/favicon-32x32.png"
    />

    <title>Interactive rating component</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Overpass:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <!-- Rating state start -->
    <div class="card">
      <div id="rating" class="rating">
        <div class="logo-box">
          <img src="/images/icon-star.svg" alt="star logo" class="logo" />
        </div>
        <div class="title">How did we do?</div>
        <div class="body">
          Please let us know how we did with your support request. All feedback
          is appreciated to help us improve our offering!
        </div>
        <ul class="scores">
          <li class="score">1</li>
          <li class="score">2</li>
          <li class="score">3</li>
          <li class="score">4</li>
          <li class="score">5</li>
        </ul>
        <button id="submit-button" class="button">Submit</button>
      </div>
      <!-- Rating state end -->
      <!-- Thank you state start -->
      <div id="thanks" class="thank-you hidden">
        <img
          src="/images/illustration-thank-you.svg"
          alt="illustration of thank you"
          class="image-thanks"
        />
        <div class="info">You selected <span id="value"></span> out of 5</div>
        <div class="title">Thank you!</div>
        We appreciate you taking the time to give a rating. If you ever need
        more support, donâ€™t hesitate to get in touch! -->
      </div>

      <!-- Thank you state end -->
    </div>
    <script>
      var scores = document.getElementsByClassName("score");
      var currentClicked = -1;

      function toggleClicked(classList, i) {
        if (classList.contains("clicked")) classList.remove("clicked");
        else classList.add("clicked");

        if (currentClicked != -1)
          scores[currentClicked].classList.remove("clicked");

        currentClicked = i;
      }

      function onSubmitClicked() {
        if (currentClicked == -1) {
          alert("Please select a rating");
          return;
        }

        document.getElementById("value").innerHTML = currentClicked + 1;
        document.getElementById("rating").classList.add("hidden");
        document.getElementById("thanks").classList.remove("hidden");
      }

      document
        .getElementById("submit-button")
        .addEventListener("click", onSubmitClicked);

      for (let i = 0; i < scores.length; i++)
        scores[i].addEventListener("click", function () {
          toggleClicked(scores[i].classList, i);
        });
    </script>
  </body>
</html>
